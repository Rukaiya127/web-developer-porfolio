!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fe1413ae-54af-4198-b8a5-f12e257a9e5d",e._sentryDebugIdIdentifier="sentry-dbid-fe1413ae-54af-4198-b8a5-f12e257a9e5d")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4403,4390],{67677:function(e,t,n){n.d(t,{D:function(){return N}});var a=n(97458),r=n(23113),o=n(2200),i=n(19974),l=n(48681),s=n(47152),c=n(86101),d=n(34854),u=n(770),m=n(9249),h=n(80712),f=n(10893),p=n(52983),v=n(9217),x=n(26013),w=n(11031);let g=(0,p.forwardRef)((e,t)=>{let{isCollapsed:n,onClick:o,mode:i,tooltipProps:l={side:"top"},buttonClassName:s,labelClassName:p,showLabel:g=!0,oldStyle:b=!1}=e,{t:j}=(0,f.$G)("detailCommon"),y=(0,r.a)("lg"),N=(0,d.nD)(),C=j("saveToCollection"),_=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.T,{children:C}),(0,a.jsx)(u.J,{as:h.Z,size:"base"})]}),D=b?w.Mw:x.aD,I=(0,a.jsxs)("button",{className:n?x.tw:D,onClick:o,"data-cy":"add-to-collection-thumbnail",ref:t,children:[_,n&&(0,a.jsx)("span",{children:C})]});return("large"===i&&(I=(0,a.jsxs)("button",{className:null!=s?s:v.LI(),onClick:o,ref:t,children:[_,g&&(0,a.jsx)("span",{className:null!=p?p:v.PS(),children:C})]})),!y||n)?I:(0,a.jsx)(c.u,{...l,trigger:I,triggerAsChild:!0,hideOnLeaveHover:!0,container:N.current,children:C})});var b=n(78238),j=n(79187),y=n(88659);let N=e=>{let{type:t,id:n,mode:c,location:d,tooltipProps:u,buttonClassName:m,labelClassName:h,showLabel:f=!0,renderTrigger:p,isMenuAction:v,withProvider:x=!0}=e,{onButtonOpenClick:w,isOpen:N,handleOpenChange:C}=(0,y.r)(),_=(0,r.a)("smMax"),D=(0,o.n)(),I=(0,s.U)().isCollapsed,T=p?p({onClick:w}):(0,a.jsx)(g,{isCollapsed:I,onClick:w,mode:null!=c?c:"normal",tooltipProps:u,buttonClassName:m,showLabel:f,labelClassName:h,oldStyle:"icon"===t}),R=x?(0,a.jsx)(j.u,{id:n,type:t,location:d,children:(0,a.jsx)(b.L,{type:t,id:n})}):(0,a.jsx)(b.L,{type:t,id:n});return _?(0,a.jsxs)(a.Fragment,{children:[T,(0,a.jsx)(l.u,{open:N,onOpenChange:C,fullHeight:!0,size:"full",paddingY:"none",paddingX:"none",thumbnail:!0,children:R})]}):(0,a.jsxs)(i.fC,{open:N,onOpenChange:C,children:[(0,a.jsx)(i.xz,{asChild:!0,children:T}),(0,a.jsx)(i.h_,{container:null==D?void 0:D.current,children:(0,a.jsx)(i.VY,{align:"start",side:"left",sideOffset:6,onInteractOutside:e=>v&&e.preventDefault(),children:R})})]})}},38741:function(e,t,n){n.r(t),n.d(t,{AddToCollection:function(){return a.D}});var a=n(67677)},64390:function(e,t,n){n.r(t),n.d(t,{DownloadVideoButton:function(){return _}});var a=n(97458),r=n(86101),o=n(770),i=n(9249),l=n(19213),s=n(63918),c=n(57291),d=n(10893),u=n(72234),m=n(65122),h=n(85229),f=n(46700),p=n(52983),v=n(50987),x=n(65724),w=n(52240),g=n(33247),b=n(47874),j=n(35576),y=n(14534),N=n(68344);let C=e=>{let{resourceId:t,premium:n,quality:a,authorName:r,orientation:o,poster:i,name:l,trackActivated:s}=e,c=(0,m.e)(),[d,C]=(0,p.useState)(!1),_=(0,f.V)(),{isUserWinback:D,showWinbackModal:I}=(0,h.l)(),T=(0,N.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:i,resourceName:l}),R=(0,j.mS)(),k=(0,w.TH)({action:"download",location:"thumbnail",file_id:t,license:n?"premium":"free",resolution:a,author_name:r,category:"video",aspect_ratio:o}),O=(0,u.Lh)(),L=(0,x.W)(t,"video","resource_thumbnail"),{showAttribution:A}=(0,v.J)(),E=(0,g.R)()({authorName:r,isAIGenerated:!1,type:"video",isPremium:n,eventName:"download__thumbnail"}),H=(0,p.useCallback)(()=>{R({resourceId:t,isResourcePremium:n,resourceType:"video",downloadType:"download"})},[R,t,n]);return{download:(0,p.useCallback)(async()=>{if(n&&!c){L({origin:"resource_thumbnail",resourceData:{name:l,resourceType:"video",mediaUrl:i},checkoutQueryParams:E,onButtonClick:H});return}if(D){I();return}C(!0);let e=await (0,y.S)({videoId:t,orientation:o,walletId:O});if(e.success){_(e.data.url,e.data.filename);let a=(0,b.z)(e.data.filename);s&&(R({resourceId:t,isResourcePremium:n||!1,resourceType:"video"}),k({fileExtension:a})),A()}else T(e,E);C(!1)},[n,c,D,t,o,O,L,l,i,E,H,I,_,s,A,R,k,T]),isDownloading:d,userPremium:c}},_=e=>{let{resourceId:t,quality:n,premium:c,authorName:u,orientation:m,trackActivated:h=!0,name:f,poster:p}=e,{t:v}=(0,d.$G)("detailCommon"),{download:x,isDownloading:w}=C({resourceId:t,quality:n,premium:c,authorName:u,orientation:m,trackActivated:h,name:f,poster:p});return(0,a.jsx)(r.u,{trigger:(0,a.jsxs)("a",{className:D({isDownloading:w}),onClick:()=>{w||x()},role:"link","data-cy":"download-thumbnail",children:[(0,a.jsx)(i.T,{children:v("download")}),w?(0,a.jsx)(o.J,{as:s.Z,size:"sm",className:"animate-spin"}):(0,a.jsx)(o.J,{as:l.Z,size:"base"})]}),side:"left",children:(0,a.jsx)("span",{className:"$capitalize",children:v("download")})})},D=(0,c.j)("flex size-10 cursor-pointer items-center justify-center rounded-full bg-surface-0 text-surface-foreground-0 shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] hover:bg-surface-3",{variants:{isDownloading:{true:"pointer-events-none cursor-not-allowed"}},defaultVariants:{isDownloading:!1}})},97797:function(e,t,n){n.d(t,{Y:function(){return f}});var a=n(97458),r=n(57291),o=n(52294),i=n(65122),l=n(9249),s=n(41776),c=n(4784),d=n(59470),u=n(63081),m=n(33247);let h=e=>{let{id:t,name:n,poster:r,authorName:o}=e,h=(0,i.e)(),f=(0,m.R)()({type:"video",authorName:o,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});return f.append("origin","".concat(u.Ej,"_premium_video")),(0,a.jsxs)("span",{className:d.q,"data-cy":"premium-resource-crown",children:[(0,a.jsx)(l.T,{children:"Premium"}),h?(0,a.jsx)(c.s,{}):(0,a.jsx)(s.w,{resource:{id:t,name:n,mediaUrl:r,resourceType:"video"},urlParams:new URLSearchParams(f),category:"video"})]})},f=e=>{let{id:t,name:n,poster:i,authorName:l,isPremium:s,isAIGenerated:c,orientation:d}=e;return(0,a.jsxs)("div",{className:(0,r.cx)("absolute flex","vertical"!==d?"left-4 top-4 gap-2":"left-3 top-3 gap-1"),children:[s&&(0,a.jsx)(h,{id:t,name:n,poster:i,authorName:l}),c&&(0,a.jsx)(o.N,{})]})}},93295:function(e,t,n){n.d(t,{Q:function(){return s}});var a=n(97458),r=n(57291),o=n(38741),i=n(50987),l=n(64390);let s=e=>{let{id:t,poster:n,location:s,author:c,premium:d,quality:u,orientation:m,name:h}=e,{attributionEnabled:f}=(0,i.J)();return f?null:(0,a.jsxs)("aside",{className:(0,r.cx)("absolute  flex flex-col gap-3 transition-all","vertical"!==m?"right-4 top-4 gap-3":"right-3 top-3 gap-2"),children:[(0,a.jsx)(l.DownloadVideoButton,{resourceId:t,authorName:c.name,premium:d,quality:u,orientation:m,name:h,poster:n}),"thumbnail"===s&&(0,a.jsx)(o.AddToCollection,{type:"video",id:t,location:s,tooltipProps:{side:"left"}})]})}},3797:function(e,t,n){n.d(t,{A:function(){return s}});var a=n(97458),r=n(58058),o=n.n(r),i=n(51780),l=n(50987);let s=e=>{let{children:t,as:n,onHandleClick:r,name:s}=e,{attributionEnabled:c}=(0,l.J)(),d=(0,i.useRouter)(),u="$block $h-full $w-full";return c?(0,a.jsx)("div",{className:u,children:t}):(0,a.jsx)(o(),{href:{pathname:d.pathname,query:d.query},as:n,className:u,shallow:!0,scroll:!1,onClick:r,"aria-label":s,prefetch:!1,children:t})}},29708:function(e,t,n){n.d(t,{n:function(){return d}});var a=n(97458),r=n(53344),o=n.n(r),i=n(50987),l=n(28851),s=n(65229);let c=o()(()=>n.e(6303).then(n.bind(n,86303)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[86303]},ssr:!1}),d=e=>{let{author:t,id:n,name:r,position:o,premium:d,videoSrc:u,duration:m,enableGaTracker:h,isInViewport:f,posterSrc:p,videoUrl:v,isHovered:x,orientation:w}=e,{attributionEnabled:g}=(0,i.J)();if(g){var b,j;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("video",{width:480,height:270,className:s.R,preload:"metadata",autoPlay:!1,poster:p,muted:!0,playsInline:!0,loop:!0,children:f&&(0,a.jsx)("source",{"data-src":u,type:"video/mp4"})}),(0,a.jsx)(c,{authorId:null!==(b=null==t?void 0:t.id)&&void 0!==b?b:0,authorName:null!==(j=null==t?void 0:t.name)&&void 0!==j?j:"",resourceUrl:v,resourceId:n,resourceName:r,mediaUrl:p,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:d,resourceType:"video"})]})}return(0,a.jsx)(l.VideoContentComponent,{poster:p,videoSrc:u,duration:m,name:r,author:t,isInViewport:f,id:n,premium:d,position:o,enableGaTracker:h,checkHover:!0,isHovered:x,orientation:w})}},37908:function(e,t,n){n.d(t,{v:function(){return c}});var a=n(97458),r=n(57291),o=n(63123),i=n(70870),l=n(18666),s=n(38012);let c=e=>{let{id:t,name:n,poster:c,orientation:d,containerRef:u}=e,{width:m}=(0,i.n)(u),h=!!(m&&m>=o.CC);return(0,a.jsx)(l.B,{buttonClassName:(0,r.cx)("flex gap-1 items-center text-sm font-semibold absolute bottom-4 left-4 transition-opacity",s.p,h?"px-4 py-0":"p-3","vertical"!==d?"left-4 bottom-4":"left-3 bottom-3"),id:t,name:null!=n?n:"",preview:{width:0,height:0,url:null!=c?c:""},type:"video",inThumbnail:!0,showLabel:h})}},47874:function(e,t,n){n.d(t,{z:function(){return a}});let a=e=>e.includes(".")?e.toLowerCase().split(".").pop():""},14534:function(e,t,n){n.d(t,{S:function(){return a}});let a=async e=>{let{videoId:t,orientation:n,walletId:a,optionId:r,action:o}=e,i=new URLSearchParams;n&&i.set("orientation",n),a&&i.set("walletId",a),r&&i.set("optionId",r.toString()),o&&i.set("action",o);let l=await fetch("/api/video/".concat(t,"/download?").concat(i.toString()));return l.ok?{success:!0,data:await l.json()}:429===l.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===l.status?{success:!1,data:"FORBIDDEN"}:401===l.status||405===l.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===l.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},68344:function(e,t,n){n.d(t,{G:function(){return s}});var a=n(19170),r=n(51780),o=n(10893),i=n(52983),l=n(65724);let s=e=>{let{resourceId:t,location:n,origin:s,limitModalMediaUrl:c,resourceName:d}=e,{openToast:u}=(0,a.x_)(),{t:m}=(0,o.$G)("error"),{push:h}=(0,r.useRouter)(),f=(0,l.W)(t,s,n);return(0,i.useCallback)((e,t)=>{let n={DOWNLOAD_LIMIT_REACHED:()=>{f({origin:s,resourceData:{name:d,resourceType:"video",mediaUrl:c},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{h("/oauth-logout")},NOT_FOUND:()=>{u({message:m("notFound")})},UNKNOWN_ERROR:()=>{u({message:m("unknown")})}};if("string"==typeof e.data&&e.data in n)return n[e.data]()},[f,s,d,c,h,u,m])}},5479:function(e,t,n){n.d(t,{l:function(){return s}});var a=n(97813),r=n(91657),o=n(51780),i=n(52983),l=n(97311);let s=e=>{let{id:t,url:n,related:s,nativeAspectRatio:c,track:d,uuid:u,fromElement:m}=e,{query:{aspect_ratio:h}}=(0,o.useRouter)(),f=(0,i.useCallback)(e=>{if(null==e?void 0:e.toString()){let t=(0,a.X)(e),o=t===r._y?"":t;return"".concat(n,"/").concat(o)}return n},[n]),p=(0,i.useMemo)(()=>s?f():h&&h!==c?f(h):f(),[s,h,f,c]);return(0,l.f)(t,p,{...m&&{fromElement:m},track:d,...u&&{uuid:u}})}},91050:function(e,t,n){n.d(t,{Ch:function(){return w},bd:function(){return h},Ft:function(){return p}});var a=n(87420),r=n(7616),o=n(52983),i=n(45591),l=n(44932),s=n(12297),c=n(24399),d=n(73139);let u=(0,d.xu)(e=>{let{locale:t,id:n}=e;return(0,d.n7)((0,c.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/video?id=".concat(n,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(n));return await e.json()}))},s.vZ),m=()=>{let e=(0,a.ZK)(),t=(0,r.Dv)(l.D),n=(0,r.Dv)(u({locale:e,id:t}));return"hasData"===n.state?n.data:null},h=()=>{let e=(0,i.yd)(),t=m();return(0,o.useMemo)(()=>[null===t,null!=t?t:e],[e,t])},f=(0,o.createContext)([]),p=()=>(0,o.useContext)(f);var v=n(97458),x=n(61462);let w=e=>{let{videos:t,children:n,...a}=e;return(0,v.jsx)(f.Provider,{value:t,children:(0,v.jsx)(x.b,{...a,items:t,children:n})})}},80712:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,a.jsx)("path",{d:"M257.8 409.8H70c-8.3 0-15-6.7-15-15v-177h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25v-115c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h187.8c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 77.8h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55v-75c0-8.3 6.7-15 15-15"}),(0,a.jsx)("path",{d:"M490.2 325.3c-21.2-20.8-55.4-21.3-77.2-1.2-3.5 3.2-6.5 6.8-9 10.6-2.5-3.8-5.5-7.4-9-10.6-21.8-20.1-56-19.6-77.2 1.2-22.3 21.9-22.5 57.7-.4 79.7l74 74c7 7 18.3 7 25.2 0l74-74c22-22 21.9-57.8-.4-79.7"})]})},87908:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,a.jsx)("path",{d:"M448.9 24.4H189c-34.8 0-63.1 28.3-63.1 63.1v201.8c0 34.8 28.3 63.1 63.1 63.1h259.8c34.8 0 63.1-28.3 63.1-63.1V87.4c.1-34.7-28.2-63-63-63M189 74.4h259.8c7.2 0 13.1 5.9 13.1 13.1v170.1l-30.6-31c-4.7-4.8-11.1-7.4-17.8-7.4s-13.1 2.7-17.8 7.5l-23 23.5-90-90.3c-4.7-4.7-11.1-7.4-17.7-7.4s-13 2.6-17.7 7.3L176 231.2V87.4c0-7.2 5.8-13 13-13"}),(0,a.jsx)("path",{d:"M388 172.7c15.8 0 28.6-12.8 28.6-28.6s-12.8-28.6-28.6-28.6-28.6 12.8-28.6 28.6 12.8 28.6 28.6 28.6M326.3 428.1c-2 7-9.2 11-16.2 9.1L59.6 366.9c-3.4-.9-6.2-3.1-7.9-6.2s-2.1-6.6-1.2-10L76 260.1V112.5c-8.8 7.8-15.6 18.1-19 30.3L2.4 337.3c-4.5 16.2-2.5 33.3 5.8 48s21.8 25.3 38 29.8l250.5 70.2c5.7 1.6 11.4 2.3 17 2.3 27.6 0 53-18.3 60.8-46.1l11-39.2h-51.9z"})]})}}]);